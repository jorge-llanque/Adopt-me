{"id":"OrTB","dependencies":[{"name":"D:\\react\\adopt-me\\.babelrc","includedInParent":true,"mtime":1632217319479},{"name":"D:\\react\\adopt-me\\package.json","includedInParent":true,"mtime":1634237599122},{"name":"react","loc":{"line":1,"column":36},"parent":"D:\\react\\adopt-me\\src\\useBreedList.js","resolved":"D:\\react\\adopt-me\\node_modules\\react\\index.js"},{"name":"./services/getToken","loc":{"line":2,"column":26},"parent":"D:\\react\\adopt-me\\src\\useBreedList.js","resolved":"D:\\react\\adopt-me\\src\\services\\getToken.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=a;var e=require(\"react\"),t=o(require(\"./services/getToken\"));function o(e){return e&&e.__esModule?e:{default:e}}const s={};function a(o){const[a,n]=(0,e.useState)([]),[r,u]=(0,e.useState)(\"unloaded\");return(0,e.useEffect)(()=>{o?s[o]?n(s[o]):async function(){n([]),u(\"loading\");const e=await(0,t.default)(),a=await fetch(`https://api.petfinder.com/v2/types/${o}/breeds`,{method:\"GET\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${e}`}}),r=await a.json();console.log(\"sss\",r),s[o]=r.breeds||[],n(s[o]),u(\"loaded\")}():n([])},[o]),[a,r]}"},"sourceMaps":{"js":{"mappings":[{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":0}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":13}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":20}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":35}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":43}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":56}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":57}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":64}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":68}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":76}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":84}},{"source":"useBreedList.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"useBreedList.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"useBreedList.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"useBreedList.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"useBreedList.js","original":{"line":2,"column":0},"generated":{"line":1,"column":109}},{"source":"useBreedList.js","original":{"line":2,"column":0},"generated":{"line":1,"column":111}},{"source":"useBreedList.js","original":{"line":2,"column":0},"generated":{"line":1,"column":113}},{"source":"useBreedList.js","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":145}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":154}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":156}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":159}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":166}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":169}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":171}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":182}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":184}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":185}},{"source":"useBreedList.js","original":{"line":42,"column":1},"generated":{"line":1,"column":193}},{"source":"useBreedList.js","original":{"line":4,"column":0},"generated":{"line":1,"column":196}},{"source":"useBreedList.js","name":"localCache","original":{"line":4,"column":6},"generated":{"line":1,"column":202}},{"source":"useBreedList.js","original":{"line":4,"column":19},"generated":{"line":1,"column":204}},{"source":"useBreedList.js","original":{"line":6,"column":15},"generated":{"line":1,"column":207}},{"source":"useBreedList.js","name":"useBreedLIst","original":{"line":6,"column":24},"generated":{"line":1,"column":216}},{"source":"useBreedList.js","name":"animal","original":{"line":6,"column":37},"generated":{"line":1,"column":218}},{"source":"useBreedList.js","original":{"line":7,"column":8},"generated":{"line":1,"column":221}},{"source":"useBreedList.js","name":"breedList","original":{"line":7,"column":9},"generated":{"line":1,"column":227}},{"source":"useBreedList.js","name":"setBreedList","original":{"line":7,"column":20},"generated":{"line":1,"column":229}},{"source":"useBreedList.js","original":{"line":7,"column":36},"generated":{"line":1,"column":233}},{"source":"useBreedList.js","original":{"line":7,"column":45},"generated":{"line":1,"column":235}},{"source":"useBreedList.js","original":{"line":7,"column":45},"generated":{"line":1,"column":237}},{"source":"useBreedList.js","original":{"line":7,"column":45},"generated":{"line":1,"column":247}},{"source":"useBreedList.js","name":"status","original":{"line":8,"column":9},"generated":{"line":1,"column":252}},{"source":"useBreedList.js","name":"setStatus","original":{"line":8,"column":17},"generated":{"line":1,"column":254}},{"source":"useBreedList.js","original":{"line":8,"column":30},"generated":{"line":1,"column":258}},{"source":"useBreedList.js","original":{"line":8,"column":39},"generated":{"line":1,"column":260}},{"source":"useBreedList.js","original":{"line":8,"column":39},"generated":{"line":1,"column":262}},{"source":"useBreedList.js","original":{"line":8,"column":39},"generated":{"line":1,"column":272}},{"source":"useBreedList.js","original":{"line":41,"column":9},"generated":{"line":1,"column":284}},{"source":"useBreedList.js","original":{"line":9,"column":12},"generated":{"line":1,"column":291}},{"source":"useBreedList.js","original":{"line":9,"column":12},"generated":{"line":1,"column":293}},{"source":"useBreedList.js","original":{"line":9,"column":12},"generated":{"line":1,"column":295}},{"source":"useBreedList.js","original":{"line":9,"column":12},"generated":{"line":1,"column":306}},{"source":"useBreedList.js","name":"animal","original":{"line":10,"column":9},"generated":{"line":1,"column":311}},{"source":"useBreedList.js","name":"localCache","original":{"line":12,"column":15},"generated":{"line":1,"column":313}},{"source":"useBreedList.js","name":"animal","original":{"line":12,"column":26},"generated":{"line":1,"column":315}},{"source":"useBreedList.js","name":"setBreedList","original":{"line":13,"column":6},"generated":{"line":1,"column":318}},{"source":"useBreedList.js","name":"localCache","original":{"line":13,"column":19},"generated":{"line":1,"column":320}},{"source":"useBreedList.js","name":"animal","original":{"line":13,"column":30},"generated":{"line":1,"column":322}},{"source":"useBreedList.js","name":"requestBreedList","original":{"line":17,"column":19},"generated":{"line":1,"column":326}},{"source":"useBreedList.js","name":"setBreedList","original":{"line":18,"column":6},"generated":{"line":1,"column":343}},{"source":"useBreedList.js","original":{"line":18,"column":19},"generated":{"line":1,"column":345}},{"source":"useBreedList.js","name":"setStatus","original":{"line":19,"column":6},"generated":{"line":1,"column":349}},{"source":"useBreedList.js","original":{"line":19,"column":16},"generated":{"line":1,"column":351}},{"source":"useBreedList.js","name":"token","original":{"line":20,"column":12},"generated":{"line":1,"column":362}},{"source":"useBreedList.js","name":"token","original":{"line":20,"column":12},"generated":{"line":1,"column":368}},{"source":"useBreedList.js","original":{"line":20,"column":26},"generated":{"line":1,"column":376}},{"source":"useBreedList.js","original":{"line":20,"column":6},"generated":{"line":1,"column":378}},{"source":"useBreedList.js","original":{"line":20,"column":6},"generated":{"line":1,"column":380}},{"source":"useBreedList.js","name":"res","original":{"line":21,"column":12},"generated":{"line":1,"column":391}},{"source":"useBreedList.js","name":"fetch","original":{"line":21,"column":24},"generated":{"line":1,"column":399}},{"source":"useBreedList.js","name":"animal","original":{"line":23,"column":46},"generated":{"line":1,"column":443}},{"source":"useBreedList.js","original":{"line":24,"column":8},"generated":{"line":1,"column":454}},{"source":"useBreedList.js","name":"method","original":{"line":25,"column":10},"generated":{"line":1,"column":455}},{"source":"useBreedList.js","original":{"line":25,"column":18},"generated":{"line":1,"column":462}},{"source":"useBreedList.js","name":"mode","original":{"line":26,"column":10},"generated":{"line":1,"column":468}},{"source":"useBreedList.js","original":{"line":26,"column":16},"generated":{"line":1,"column":473}},{"source":"useBreedList.js","name":"headers","original":{"line":27,"column":10},"generated":{"line":1,"column":480}},{"source":"useBreedList.js","original":{"line":27,"column":19},"generated":{"line":1,"column":488}},{"source":"useBreedList.js","original":{"line":28,"column":28},"generated":{"line":1,"column":489}},{"source":"useBreedList.js","original":{"line":28,"column":28},"generated":{"line":1,"column":504}},{"source":"useBreedList.js","name":"Authorization","original":{"line":29,"column":12},"generated":{"line":1,"column":523}},{"source":"useBreedList.js","name":"token","original":{"line":29,"column":37},"generated":{"line":1,"column":547}},{"source":"useBreedList.js","name":"json","original":{"line":33,"column":12},"generated":{"line":1,"column":554}},{"source":"useBreedList.js","name":"res","original":{"line":33,"column":25},"generated":{"line":1,"column":562}},{"source":"useBreedList.js","name":"json","original":{"line":33,"column":29},"generated":{"line":1,"column":564}},{"source":"useBreedList.js","name":"console","original":{"line":34,"column":6},"generated":{"line":1,"column":571}},{"source":"useBreedList.js","name":"log","original":{"line":34,"column":14},"generated":{"line":1,"column":579}},{"source":"useBreedList.js","original":{"line":34,"column":18},"generated":{"line":1,"column":583}},{"source":"useBreedList.js","name":"json","original":{"line":34,"column":25},"generated":{"line":1,"column":589}},{"source":"useBreedList.js","name":"localCache","original":{"line":35,"column":6},"generated":{"line":1,"column":592}},{"source":"useBreedList.js","name":"animal","original":{"line":35,"column":17},"generated":{"line":1,"column":594}},{"source":"useBreedList.js","name":"json","original":{"line":35,"column":27},"generated":{"line":1,"column":597}},{"source":"useBreedList.js","name":"breeds","original":{"line":35,"column":32},"generated":{"line":1,"column":599}},{"source":"useBreedList.js","original":{"line":35,"column":42},"generated":{"line":1,"column":607}},{"source":"useBreedList.js","name":"setBreedList","original":{"line":36,"column":6},"generated":{"line":1,"column":610}},{"source":"useBreedList.js","name":"localCache","original":{"line":36,"column":19},"generated":{"line":1,"column":612}},{"source":"useBreedList.js","name":"animal","original":{"line":36,"column":30},"generated":{"line":1,"column":614}},{"source":"useBreedList.js","name":"setStatus","original":{"line":37,"column":6},"generated":{"line":1,"column":618}},{"source":"useBreedList.js","original":{"line":37,"column":16},"generated":{"line":1,"column":620}},{"source":"useBreedList.js","name":"requestBreedList","original":{"line":15,"column":6},"generated":{"line":1,"column":630}},{"source":"useBreedList.js","name":"setBreedList","original":{"line":11,"column":6},"generated":{"line":1,"column":633}},{"source":"useBreedList.js","original":{"line":11,"column":19},"generated":{"line":1,"column":635}},{"source":"useBreedList.js","original":{"line":39,"column":5},"generated":{"line":1,"column":640}},{"source":"useBreedList.js","name":"animal","original":{"line":39,"column":6},"generated":{"line":1,"column":641}},{"source":"useBreedList.js","original":{"line":41,"column":9},"generated":{"line":1,"column":645}},{"source":"useBreedList.js","name":"breedList","original":{"line":41,"column":10},"generated":{"line":1,"column":646}},{"source":"useBreedList.js","name":"status","original":{"line":41,"column":21},"generated":{"line":1,"column":648}}],"sources":{"useBreedList.js":"import { useState, useEffect } from 'react'\r\nimport generateToken from './services/getToken'\r\n\r\nconst localCache = {}\r\n\r\nexport default function useBreedLIst(animal) {\r\n  const [breedList, setBreedList] = useState([])\r\n  const [status, setStatus] = useState('unloaded')\r\n  useEffect(() => {\r\n    if (!animal) {\r\n      setBreedList([])\r\n    } else if (localCache[animal]) {\r\n      setBreedList(localCache[animal])\r\n    } else {\r\n      requestBreedList()\r\n    }\r\n    async function requestBreedList() {\r\n      setBreedList([])\r\n      setStatus('loading')\r\n      const token = await generateToken()\r\n      const res = await fetch(\r\n        //`https://pets-v2.dev-apis.com/breeds?animal=${animal}`\r\n        `https://api.petfinder.com/v2/types/${animal}/breeds`,\r\n        {\r\n          method: 'GET',\r\n          mode: 'cors',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n      const json = await res.json()\r\n      console.log('sss', json)\r\n      localCache[animal] = json.breeds || []\r\n      setBreedList(localCache[animal])\r\n      setStatus('loaded')\r\n    }\r\n  }, [animal])\r\n\r\n  return [breedList, status]\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"f0f635f025c79bbd3a236811e2a87208","cacheData":{"env":{}}}